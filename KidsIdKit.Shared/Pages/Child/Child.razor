@page "/Child/{id:int}"

@inject NavigationManager NavigationManager
@inject IJSRuntime JSRuntime

@if (CurrentChild == null)
{
    <h2>Child Info</h2>
    <p>Loading...</p>
}
else
{
    <h2>@CurrentChild.ChildDetails.GivenName</h2>
    <p>
        <ul>
            <li><a href="/childDetails/@Id">Child details</a></li>
            <li><a href="/childPhysicalDetails/@Id">Physical details</a></li>
            <li><a href="/childDistinguishingFeatures/@Id">Distinguishing features</a></li>
            <li><a href="/childFamilyMembers/@Id">Family members</a></li>
            <li><a href="/childFriends/@Id">Friends</a></li>
            <li><a href="/childCareProviders/@Id">Care providers</a></li>
            <li><a href="/childMedicalNotes/@Id">Medical notes</a></li>
        </ul>
    </p>

    @if (!string.IsNullOrWhiteSpace(CurrentChild.ChildDetails.GivenName) && CurrentChild.ChildDetails.GivenName != "<new>")
    {
        <div>
            <button type="button"
                    @onclick="@(() => NavigationManager.NavigateTo($"/"))"
                    title="Back"
                    class="btn-back">
                <i class="fas fa-chevron-left" />
            </button>

            <button type="button"
                    @onclick="GenerateAndDownloadPdf"
                    class="btn-icon"
                    title="Generate and Download PDF">
                <i class="fas fa-print" />
            </button>

            <button type="button"
                    @onclick="GenerateAndDownloadPdf"
                    class="btn-icon"
                    title="Generate and Download PDF">
                @ImageContent
            </button>
        </div>
    }
}
