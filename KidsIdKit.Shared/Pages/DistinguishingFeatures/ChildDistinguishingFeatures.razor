@page "/childDistinguishingFeatures/{Id:int}"

@using System.Linq.Expressions;
@using System.ComponentModel.DataAnnotations;
@using System.Reflection;
@using Microsoft.AspNetCore.Components.QuickGrid;
@using KidsIdKit.Shared.Data;

@inject IDataAccess dal
@inject NavigationManager navigationManager

@if (CurrentChild == null || Features == null)
{
    <h2>@PageTitle</h2>
    <p>Loading...</p>
}
else
{
    <h2>@CurrentChild.FullName</h2>
    <p></p>
    <h3>@PageTitle</h3>
    <p></p>

    <div class="content-card">
        <QuickGrid Items="@Features">
            <TemplateColumn>
                <p>@context.Description</p>

                @if (!string.IsNullOrWhiteSpace(context.Photo.ImageSource))
                {
                    <img src="@context.Photo.ImageSource" />
                }
            </TemplateColumn>

            <TemplateColumn>
                <div>
                    <a href="/Feature/@Id/@context.Id" style="text-decoration:none"><i class="fas fa-edit"></i></a>
                    <a href="/FeatureRemove/@Id/@context.Id" style="text-decoration:none"><i class="fas fa-trash-alt"></i></a>
                </div>
            </TemplateColumn>
        </QuickGrid>
    </div>

    <section>
        <button type="button"
                @onclick="@(() => navigationManager.NavigateTo($"/Child/{Id}"))"
                title="Back"
                class="btn-back">
            <i class="fas fa-chevron-left" />
        </button>

        <button type="button"
                @onclick="@(() => navigationManager.NavigateTo($"/Feature/{Id}/-1"))"
                title="Add distinguishing feature"
                class="btn-icon">
            <i class="fas fa-plus" />
        </button>
    </section>
}


